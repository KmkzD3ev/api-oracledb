CREATE OR REPLACE TRIGGER TRG_ATUALIZAR_DIAS_ATUALIZACAO
BEFORE UPDATE OF DT_VALIDADE ON PRODUTO_VALIDADE
FOR EACH ROW
BEGIN
    -- Atualiza o campo DIAS_PARA_VENCER antes da atualização, considerando apenas as datas
    :NEW.DIAS_PARA_VENCER := TRUNC(:NEW.DT_VALIDADE) - TRUNC(SYSDATE);
END;
/

